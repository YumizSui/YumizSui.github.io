---
import BaseLayout from '../../layouts/BaseLayout.astro';

const title = 'Music';
const description = 'My music activities, playlists, and listening history';

// External links
const externalLinks = [
  {
    url: 'https://open.spotify.com/user/m7xsekaw283axq9pte09m9ic5?si=d4930b5f483046ed',
    title: 'Spotify',
    description: 'My Spotify account',
  },
  {
    url: 'https://bsky.app/profile/yumizsui.com',
    title: 'Bluesky',
    description: 'Mainly music-related posts, auto-posting recently added songs, etc.',
  },
  {
    url: 'https://rateyourmusic.com/~yumiz',
    title: 'RateYourMusic',
    description: 'Album ratings',
  },
  {
    url: 'https://yumizsui.github.io/spotify_analysis_extended_streaming_history/',
    title: 'Spotify Extended Streaming History Analysis',
    description: 'A true Spotify summary created by analyzing my long-term streaming history',
  },
];

// Playlists
const playlists = [
  { id: '6eP071ZUNj4eNxx0NYOiK2', title: 'Songs to Listen To', note: 'I usually listen to this playlist' },
  { id: '01sluqvq9mh1Nk1xQyiuPh', title: 'Songs Favorited Within the Last Month', note: 'Automatically updated' },
  { id: '0cNsOcxzoKgqCzYUE5MhTA', title: 'Favorites Limited to New Releases' },
  { id: '0EbUVMLLyHZbFh9HsMzxp9', title: 'Top 10 Songs', note: 'Songs I\'ve listened to many times, absolute favorites' },
  { id: '3eGzFIt0aoOH5RVDDx6c2z', title: 'Top 100 Songs I Want to Share', note: 'Updated more casually than my current status' },
  { id: '2j8HjhqHsIU3pEJrG9iZtX', title: 'Latest 50 Albums I Recently Enjoyed' },
  { id: '1hMUetpnQT2kfdxEWw6WNa', title: 'Recent Status Archive' },
  { id: '1NknH6bysJrtKCNqc4LtXi', title: 'Top 100 Archive' },
  { id: '5NSji1lXWHk57UaODnU8YG', title: 'Album Archive' },
  { id: '6za9l4lIiUrQTSCXaf8LLL', title: 'Favorite 42 Albums (as of March 2025)' },
  { id: '4RY2WQv5yw1g3LlKussA6j', title: 'Long Songs Collection' },
  { id: '2vxYVWZOBuVA22w2asMTaL', title: 'Songs with Favorite Lyrics', note: '"Favorite" means different things' },
  { id: '3wLdqiCKz5Whht1cb0eeT7', title: 'Pop Songs with Drum and Bass Elements' },
  { id: '123vazYuisH7DTemjisFJN', title: 'Favorite Anime Songs' },
  { id: '2D5knq3PLLqKxj9lGxHB32', title: 'Favorite Synthetic Voices' },
  { id: '5D8bpBa7Pmhpd6CYsQ8SIy', title: 'Music I Listened to While Writing My Master\'s Thesis' },
  { id: '47GL2hZGIulFwSLlLxsccI', title: 'I\'ll Listen if You Add Songs', link: 'https://open.spotify.com/playlist/47GL2hZGIulFwSLlLxsccI?si=38e5e9c679654a8b&pt=a9ed3e9a5ac1c77a58ca9785fcb9a974', linkText: 'Collaborative Editing' },
  { id: '5cTT0dhnbhthJe9zy9JvJz', title: 'RateYourMusic Recommendations', note: 'I\'ve discovered many songs through this. I don\'t use other recommendation systems.' },
];
---

<BaseLayout title={title} description={description} lang="en">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="max-w-6xl mx-auto">
      <h1 class="text-4xl font-bold mb-8">Music</h1>

      <section class="mb-12">
        <p class="text-gray-700 dark:text-gray-300 mb-8">
          I enjoy discovering music that matches my taste, so I do various things on Spotify and other platforms.<br />
          You don't need to look at everything, but since it's publicly available, I've compiled a list here.
        </p>

        <h2 class="text-2xl font-bold mb-6 border-b-2 border-primary-light dark:border-primary-dark pb-2">Links</h2>

        <ul class="space-y-4 mb-12">
          {externalLinks.map((link) => (
            <li>
              <a href={link.url} target="_blank" rel="noopener noreferrer" class="text-primary-light dark:text-primary-dark hover:underline font-medium">
                {link.title}
              </a>
              <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">
                {link.description}
              </p>
            </li>
          ))}
        </ul>
      </section>

      <section class="mb-12">
        <h2 class="text-2xl font-bold mb-6 border-b-2 border-primary-light dark:border-primary-dark pb-2">Playlists</h2>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          {playlists.map((playlist) => (
            <div class="playlist-card">
              <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3">
                {playlist.title}
              </h3>
              <div class="spotify-embed-container">
                <iframe
                  style="border-radius:12px"
                  src={`https://open.spotify.com/embed/playlist/${playlist.id}?utm_source=generator`}
                  width="100%"
                  height="352"
                  frameBorder="0"
                  allowfullscreen=""
                  allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                  loading="lazy">
                </iframe>
              </div>
              {playlist.note && (
                <p class="text-sm text-gray-600 dark:text-gray-400 mt-3">
                  {playlist.note}
                </p>
              )}
              {playlist.link && (
                <p class="text-sm mt-2">
                  <a href={playlist.link} target="_blank" rel="noopener noreferrer" class="text-primary-light dark:text-primary-dark hover:underline">
                    {playlist.linkText}
                  </a>
                </p>
              )}
            </div>
          ))}
        </div>
      </section>
    </div>
  </div>
</BaseLayout>

<style>
  .spotify-embed-container {
    width: 100%;
    max-width: 100%;
  }

  .spotify-embed-container iframe {
    max-width: 100%;
  }

  .playlist-card {
    background: white;
    dark:background: #1f2937;
    padding: 1.5rem;
    border-radius: 0.5rem;
    border: 1px solid #e5e7eb;
    transition: all 0.3s ease;
  }

  :global(.dark) .playlist-card {
    background: #1f2937;
    border-color: #374151;
  }

  .playlist-card:hover {
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1);
    transform: translateY(-2px);
  }
</style>
